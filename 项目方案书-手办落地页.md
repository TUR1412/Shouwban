# 手办销售网站 - 前端项目方案书 (v2.1 - 详细版)

> 说明：本文档为“需求/方案书”，实际实现以仓库代码与 `README.md` 为准。当前仓库已实现：多页面结构、主题切换、收藏/购物车本地闭环、PWA 离线兜底、SEO（含 JSON-LD）、可访问性与零依赖校验脚本。

## 1. 项目概述

**项目名称:** [您的手办品牌名称] - 手办电商网站前端

**项目目标:** 构建一个功能完善、视觉精美、响应式设计、用户体验流畅的手办在线销售网站的前端部分。此前端将涵盖从商品浏览到下单结算的完整用户流程，旨在提升品牌形象，促进销售转化。

**核心理念:** "精美呈现，流畅交互"。不仅要通过高质量视觉元素展示手办的艺术魅力，还要提供便捷、直观的操作体验。

**开发职责:** 本项目由 AI 助手协助完成全部前端代码（HTML, CSS, JavaScript）的编写与实现。**项目负责人（用户）负责提供所有必要的视觉素材（图片、Logo）、最终文案内容，并在后续阶段提供后端 API 接口定义与数据结构。** 本文档作为前端开发的主要指导。

## 2. 项目目标

*   **主要目标:**
    *   **功能完整性:** 实现标准电商网站的核心前端功能，包括浏览、搜索、筛选、查看详情、购物车管理、结算流程模拟。
    *   **视觉吸引力:** 通过高质量素材和现代网页设计，打造专业、高端的品牌形象。
    *   **用户体验:** 提供直观、流畅的导航和交互，优化用户购物路径。
    *   **响应式设计:** 确保在桌面、平板、移动设备上均能提供一致且良好的浏览和操作体验。
    *   **技术健壮性:** 代码结构清晰、易于维护，为后续集成后端 API 做好准备。
*   **次要目标:**
    *   **性能优化:** 实现图片懒加载、代码压缩等基础优化，保证页面加载速度。
    *   **基础 SEO 友好:** 使用语义化标签，预留合适的 Meta 标签位置。
    *   **可访问性:** 遵循基本的 Web 可访问性指南 (WCAG) 原则，如为图片添加 `alt` 文本，为交互元素添加 `aria-label`。

## 3. 目标受众

*   手办收藏家（资深与新手）
*   动漫、游戏、电影爱好者
*   寻找独特礼品的用户
*   注重产品细节和购物体验的消费者

## 4. 网站结构、路由与核心功能

以下为网站主要页面及其核心前端功能、UI/UX 关键点和交互逻辑：

---

**全局组件 (贯穿所有页面):**

*   **`Header` (页头):**
    *   **HTML 结构:** 包含 Logo, `nav.main-navigation`, `div.header-actions`, `div.search-bar` (初始隐藏)。
    *   **UI/UX:**
        *   Logo 指向首页 `/`。
        *   **导航 (`nav.main-navigation`):**
            *   `ul#main-nav` 包含主链接 (`/`, `#about`, `#contact`, `static-page.html?page=faq`) 和 `li.dropdown`。
            *   **分类下拉 (`li.dropdown`):**
                *   鼠标悬停/点击 (移动端) 时展开 `ul.dropdown-menu`，显示分类链接 (`category.html?cat=...`, `products.html`)。
                *   当前页面若属于某个分类或所有分类，对应链接或父级 `li.dropdown` 应有 `active` 状态（通过 JS 判断 URL 实现）。
            *   导航链接在当前页面匹配时，添加 `active` 类（通过 JS 判断 URL 实现）。
        *   **操作区 (`div.header-actions`):**
            *   **搜索图标 (`a.search-toggle`):** 点击时切换 `div.search-bar` 的显示/隐藏状态，并自动聚焦到输入框。图标本身也可能变化（如变成关闭图标）。
            *   **购物车图标 (`a.cart-link`):**
                *   始终指向 `cart.html`。
                *   `span.cart-count` 显示购物车商品数量（JS 更新）。
                *   当在 `cart.html` 页面时，此链接添加 `active` 类。
            *   **菜单切换按钮 (`button.menu-toggle`):** 仅在移动端视图下显示。点击切换 `nav.main-navigation` 和 `div.header-actions` (或整个 Header) 的展开/收起状态 (通过添加/移除 `.is-open` 类)。`aria-expanded` 属性随状态更新。
        *   **搜索栏 (`div.search-bar`):**
            *   包含输入框和提交按钮。
            *   初始隐藏，通过 CSS 控制显隐动画（如从上方滑入）。
            *   (未来) 输入内容可进行前端建议或直接提交搜索（触发页面跳转或 AJAX 请求）。
    *   **JS 逻辑:**
        *   `navDropdownHandler`: 处理分类下拉菜单的显示/隐藏 (桌面悬停，移动端点击)。
        *   `searchToggleHandler`: 处理搜索图标点击，切换搜索栏显隐及焦点。
        *   `mobileMenuToggleHandler`: 处理移动端菜单按钮点击，切换导航/操作区显隐。
        *   `updateCartCount`: (模拟) 更新购物车图标上的数量。
        *   `setActiveNavLink`: 根据当前 URL 高亮导航链接。
*   **`Footer` (页脚):**
    *   **HTML 结构:** 包含 `div.footer-about`, `div.footer-links`, `div.footer-social`, `div.footer-bottom`。
    *   **UI/UX:** 布局清晰，信息分组明确。链接有效。社交图标样式统一。
    *   **JS 逻辑:** 无特定 JS 交互。

---

**页面具体规划:**

*   **`index.html` (首页)**
    *   **路由:** `/`
    *   **核心功能/UI/UX:**
        *   **Hero Section (`section.hero`):**
            *   全宽背景图或自动轮播图 (使用 Swiper.js 或类似库实现，提供导航点和箭头)。
            *   居中或特定位置的标题、描述和 CTA 按钮 (`a.cta-button`)。
            *   按钮有明确的悬停和点击效果。
            *   内容随背景图滚动可能有视差效果 (Parallax)。
        *   **精选商品 (`section.product-gallery`):**
            *   标题居中或左对齐。
            *   `div.gallery-grid` 使用 Grid 布局，响应式调整列数 (桌面 3-4 列, 平板 2-3 列, 手机 1-2 列)。
            *   **商品卡片 (`div.product-card`):** (可复用组件)
                *   包含 `div.card-image` (内有 `a` 和 `img.lazyload`) 和 `div.card-content`。
                *   图片: 默认显示低质量占位符 `src`，`data-src` 指向高质量图片。悬停时图片可能有轻微放大或阴影效果。
                *   内容区: 标题 (`h4 a`)、系列 (`p.product-series`)、(可选价格 `span.product-price`)、查看详情按钮 (`a.card-button`)。
                *   按钮样式统一，悬停/点击效果明确。
                *   卡片整体可能有微妙的入场动画 (`.fade-in-up`)，滚动到视口时触发 (JS Intersection Observer)。
        *   **品牌理念 (`section.about`):**
            *   左右图文布局，响应式下变为上下布局。
            *   图片懒加载。
            *   内容区包含标题、段落、次要 CTA 按钮 (`a.cta-button-secondary`)。
            *   入场动画 (`.fade-in-up`)。
        *   **联系方式 (`section.contact`):**
            *   包含介绍文本、联系条目 (`div.contact-item`)、社交链接 (`div.social-links`)。
            *   图标 (Font Awesome) 与文本对齐。
            *   入场动画 (`.fade-in-up`)。
    *   **JS 逻辑:**
        *   `initHeroSlider`: 初始化 Hero 区轮播图 (如果使用)。
        *   `initLazyLoad`: 初始化图片懒加载。
        *   `initScrollAnimations`: 初始化滚动触发的入场动画。

*   **`products.html` / `category.html` (商品列表页 / 分类页)**
    *   **路由:** `/products.html`, `/category.html?cat=[...]`
    *   **核心功能/UI/UX:**
        *   **面包屑导航 (`nav.breadcrumb-nav`):** 清晰显示当前页面层级 (`category.html` 中动态生成)。
        *   **页面标题 (`h2.page-title`):** (`category.html` 中动态生成)。
        *   **筛选/排序栏 (`div.filter-sort-bar`):**
            *   包含 "筛选" 按钮 (点击后可能展开侧边栏或模态框显示筛选选项 - 暂定只做按钮) 和 "排序" 下拉菜单 (`select#sort-select`)。
            *   下拉菜单选项变化时，(未来) 可触发重新加载商品列表。当前仅为 UI 元素。
        *   **商品列表 (`div.gallery-grid.product-listing`):**
            *   复用 `index.html` 的商品网格布局和 `div.product-card` 样式。
            *   `product-card` 在此页面需额外显示价格 (`span.product-price`)。
        *   **分页 (`div.pagination`):**
            *   包含上一页、下一页、页码链接。
            *   当前页码有 `active` 状态。
            *   首页/末页时，上一页/下一页按钮有 `disabled` 状态。
            *   (未来) 点击页码或按钮触发商品列表更新。当前仅为 UI 元素。
    *   **JS 逻辑:**
        *   `initLazyLoad`
        *   `initScrollAnimations`
        *   `updateCategoryTitleAndBreadcrumb`: (仅 `category.html`) 根据 URL 参数 `cat` 更新页面标题和面包屑。
        *   `(未来) handleSortChange`: 处理排序下拉菜单变化事件。
        *   `(未来) handlePaginationClick`: 处理分页点击事件。

*   **`product-detail.html` (商品详情页)**
    *   **路由:** `/product-detail.html?id=[...]`
    *   **核心功能/UI/UX:**
        *   **面包屑导航:** 动态生成，包含分类链接 (如果能从商品数据获取)。
        *   **布局 (`div.product-detail-layout`):** 左右布局 (图片库在左，信息在右)，响应式下变为上下布局。
        *   **图片库 (`div.product-gallery-pdp`):**
            *   主图区域 (`div.main-image img#main-product-image`) 显示大图。
            *   缩略图列表 (`div.thumbnail-images img.thumbnail`)。
            *   点击缩略图时，主图 `src` 更新为对应大图路径 (`data-large` 属性)。
            *   当前激活的缩略图有 `active` 边框或覆盖效果。
            *   (可选) 主图区域可集成图片放大镜效果 (如 `drift-zoom`) 或点击打开 Lightbox 库。
        *   **商品信息 (`div.product-info-pdp`):**
            *   标题 (`h1.product-title-pdp`)、系列 (`p.product-series-pdp`)、价格 (`div.product-price-pdp`)。
            *   规格参数 (`div.product-specs`) 使用 `ul/li` 列表展示。
            *   **购买操作 (`div.product-actions`):**
                *   数量选择器 (`div.quantity-selector`): 包含 `-` 按钮、`input[type=number]`、`+` 按钮。输入框 `min="1"`。按钮点击时更新输入框的值。数量为 1 时 `-` 按钮禁用 (`disabled` 状态)。
                *   加入购物车按钮 (`button.add-to-cart-btn`): 点击后可能有短暂的成功提示 (如按钮文字变为 "已添加 √"，图标变化，或弹出小提示)，并更新 Header 中的购物车数量。
            *   商品描述 (`div.product-description`)。
        *   **(可选) 相关推荐 (`section.related-products`):** 使用 `gallery-grid` 展示 `product-card`。
    *   **JS 逻辑:**
        *   `initProductImageGallery`: 处理缩略图点击切换主图、激活状态。
        *   `initQuantitySelector`: 处理数量加减按钮逻辑和禁用状态。
        *   `handleAddToCart`: 处理加入购物车按钮点击事件 (更新购物车状态 - 模拟，更新 Header 数量，显示反馈)。
        *   `(可选) initImageZoom`: 初始化主图放大效果。
        *   `(可选) initRelatedProductSlider`: 初始化相关推荐轮播。
        *   `updateProductDetails`: (模拟/未来) 根据 URL 参数 `id` 获取并填充页面内容。

*   **`cart.html` (购物车)**
    *   **路由:** `/cart.html`
    *   **核心功能/UI/UX:**
        *   **页面标题:** "我的购物车"。
        *   **布局 (`div.cart-layout`):** 左右布局 (商品列表在左，订单摘要在右)，响应式下变为上下布局。
        *   **商品列表 (`div.cart-items`):**
            *   **购物车项 (`div.cart-item`):** 每行一个商品，包含图片 (`div.cart-item-image`)、信息 (`div.cart-item-info`)、数量 (`div.cart-item-quantity`)、小计 (`div.cart-item-total`)、移除按钮 (`div.cart-item-remove`)。布局灵活，确保小屏幕也能合理显示。
            *   数量修改: 复用详情页的数量选择器逻辑和样式。修改数量后，对应的小计和订单摘要需同步更新。
            *   移除按钮 (`button.remove-btn`): 点击后移除该商品项 DOM，并更新订单摘要。可能有确认提示。
        *   **订单摘要 (`div.cart-summary`):**
            *   包含商品小计、运费 (可为固定文本或 "待计算")、总计。
            *   价格需随购物车内容变化而实时更新。
            *   "前往结算" 按钮 (`a.checkout-button`)。
            *   "继续购物" 链接 (`a.continue-shopping-link`)。
        *   **空购物车 (`p.empty-cart-message`):** 当购物车无商品时显示此提示，并隐藏商品列表和订单摘要。
    *   **JS 逻辑:**
        *   `renderCartItems`: (模拟) 从存储 (LocalStorage) 读取购物车数据并渲染列表。
        *   `updateCartSummary`: 根据当前购物车内容计算并更新订单摘要区域的价格。
    *   **功能:**
        *   **导航栏:** 全站统一导航 (Logo, 分类下拉, 品牌理念, 联系我们, FAQ, 搜索图标, 购物车图标)。
        *   **页头 (Header):** 包含导航栏、Logo、搜索框切换、购物车链接、移动端菜单切换按钮。
        *   **主视觉区 (Hero Section):** 醒目的高清大图/轮播图，品牌标语，行动号召按钮 (CTA)。
        *   **精选商品展示:** 网格布局展示部分特色商品，链接至商品详情页。
        *   **品牌理念/关于我们:** 图文结合介绍品牌故事或理念。
        *   **联系方式:** 邮箱、社交媒体链接等。
        *   **页脚 (Footer):** 全站统一页脚 (品牌简介, 快速链接, 社交媒体, 版权信息)。
*   **页面文件:** `products.html`
    *   **路由:** `/products.html`
    *   **功能:**
        *   **页面标题:** "所有手办"。
        *   **筛选/排序栏:** 提供按分类、价格、上架时间等条件的筛选与排序选项 (前端交互，实际筛选逻辑需后端支持)。
        *   **商品列表:** 网格布局展示所有商品卡片。
        *   **商品卡片:** 包含图片 (懒加载)、名称、系列/来源、价格、查看详情按钮。
        *   **分页:** (如果商品数量多) 提供分页导航。
*   **页面文件:** `category.html`
    *   **路由:** `/category.html?cat=[category_name]` (例如 `/category.html?cat=scale`)
    *   **功能:** (与 `products.html` 类似，但内容根据分类动态调整)
        *   **页面标题/面包屑导航:** 动态显示当前分类名称。
        *   **商品列表:** 展示该分类下的商品。
        *   **筛选/排序:** 可能包含特定于分类的筛选条件。
*   **页面文件:** `product-detail.html`
    *   **路由:** `/product-detail.html?id=[product_id]` (例如 `/product-detail.html?id=123`)
    *   **功能:**
        *   **面包屑导航:** 显示从首页到当前商品的路径。
        *   **商品图片库:** 主图显示，缩略图切换，可能包含图片放大功能。
        *   **商品信息:** 标题、系列、价格、规格参数 (材质, 尺寸, 比例等)、详细描述。
        *   **购买操作:** 数量选择器、"加入购物车"按钮 (前端更新购物车状态)。
        *   **(可选) 相关推荐:** 展示其他类似商品。
*   **页面文件:** `cart.html`
    *   **路由:** `/cart.html`
    *   **功能:**
        *   **购物车列表:** 展示已添加的商品项 (图片, 名称, 价格, 数量)。
        *   **数量修改:** 增加/减少商品数量。
        *   **移除商品:** 从购物车删除商品。
        *   **价格小计:** 单项商品小计。
        *   **订单摘要:** 商品总价、运费估算、应付总额。
        *   **操作按钮:** "继续购物"、"前往结算"。
        *   空购物车状态显示。
*   **页面文件:** `checkout.html`
    *   **路由:** `/checkout.html`
    *   **功能:** (前端流程模拟，实际处理需后端)
        *   **结算步骤:** 配送地址、支付方式、订单确认。
        *   **配送地址表单:** 收货人姓名、电话、详细地址等字段及基本前端验证。
        *   **支付方式选择:** 提供如支付宝、微信支付等选项 (仅为前端选择)。
        *   **订单摘要:** 再次确认商品列表、价格、运费、总额。
        *   **提交订单按钮:** (前端触发，后续需调用后端 API)。
*   **页面文件:** `static-page.html`
    *   **路由:** `/static-page.html?page=[page_name]` (例如 `/static-page.html?page=faq`, `/static-page.html?page=privacy`)
    *   **功能:**
        *   **动态标题:** 根据 `page` 参数显示页面标题 (FAQ, 关于我们, 隐私政策, 服务条款等)。
        *   **静态内容区域:** 用于展示相应的文本和格式化内容。

## 5. 设计理念与风格

*   **核心原则:** **现代、简洁、专业、以产品为中心。**
*   **视觉风格:**
    *   **色彩:** 使用能体现品牌调性和手办质感的色彩方案，确保对比度，提高可读性。
    *   **排版:** 选择清晰易读的现代字体 (如 Noto Sans SC, M PLUS Rounded 1c)，合理运用字重和字号层级。
    *   **布局:** 采用响应式栅格系统，保证各设备上的布局合理性。注重留白，突出内容焦点。
    *   **图像:** **高质量是前提。** 所有产品图、宣传图需清晰、专业。
    *   **动效:** 使用微妙、流畅的 CSS 过渡和动画增强用户体验，避免干扰性动画。
*   **用户体验 (UX):**
    *   **导航清晰:** 用户能轻松找到所需页面和信息。
    *   **交互反馈:** 对用户的操作（点击、悬停、表单输入）提供及时的视觉反馈。
    *   **性能流畅:** 优化资源加载，确保交互不卡顿。

## 6. 技术栈 (前端)

*   **核心:** HTML5, CSS3, JavaScript (ES6+)
*   **CSS:** 使用 `styles/main.css`。遵循 BEM 命名规范。暂不引入 CSS 预处理器或框架，以保持简洁和控制力，除非后续复杂度显著增加。
*   **JavaScript:** 使用原生 JavaScript (`scripts/main.js`) 实现交互。不引入大型 JS 框架 (如 Vue/React) 以降低复杂度，但会采用模块化写法。
    *   **可能使用的轻量级库 (按需):** 用于特定效果如图库放大 (e.g., Lightbox), 轮播图 (e.g., Swiper.js), 或动画 (e.g., Anime.js)。引入前会与天帝确认。
*   **图标:** Font Awesome (已通过 CDN 引入)。
*   **字体:** Google Fonts (已通过 CDN 引入)。
*   **代码规范:** ESLint/Prettier (如果项目配置)。
*   **版本控制:** Git。
*   **构建工具:** 无 (当前阶段)，保持简单。
*   **托管:** 推荐 Vercel, Netlify 或类似平台，支持 CI/CD 和 HTTPS。

## 7. 开发计划与流程 (概要)

1.  **基础搭建与全局样式 (已完成):** HTML 结构模板，统一的 Header/Footer，基础 CSS 变量和重置。
2.  **核心页面实现 (进行中):**
    *   完善各页面 (`index`, `products`, `product-detail`, `cart`, `checkout`, `category`, `static-page`) 的 HTML 结构和特定内容区域。
    *   使用 CSS 实现各页面的布局和样式，确保响应式。
3.  **核心交互实现:**
    *   导航栏下拉菜单、移动端菜单。
    *   搜索框显隐。
    *   图片懒加载。
    *   商品详情页图片库切换/放大。
    *   数量选择器。
    *   购物车增删改查 (前端状态管理)。
    *   结算页表单交互与基础验证。
    *   静态页面内容加载逻辑 (根据 URL 参数)。
4.  **细节打磨与测试:**
    *   UI 细节调整，动画效果优化。
    *   跨浏览器和设备测试。
    *   性能检查与优化。
    *   可访问性检查。
5.  **交付与集成准备:** 交付结构清晰、注释适当的前端代码，准备好接收天帝提供的素材和 API 进行集成。

## 8. 风险评估与对策

*   **交互逻辑复杂性超出预期:**
    *   **对策:** 优先实现核心功能，复杂交互可分阶段实现或简化。与天帝沟通确认优先级。
*   **性能瓶颈:**
    *   **对策:** 持续关注资源大小和加载策略。使用浏览器开发者工具进行分析和优化。
*   **后期 API 集成困难:**
    *   **对策:** 前端代码尽可能与后端逻辑解耦。清晰地模拟前端状态管理，预留 API 调用接口。
*   **浏览器兼容性:**
    *   **对策:** 主要支持现代浏览器。使用 Can I Use 等工具检查特性兼容性。渐进增强。

## 9. 成功指标 (前端阶段)

*   所有核心页面按设计完成实现。
*   网站在主流设备和浏览器上表现一致。
*   交互功能按预期工作。
*   代码结构清晰，符合规范。
*   页面加载性能达到基本要求。

## 10. 结论

本方案详细规划了手办电商网站的前端开发工作。AI 将依据此方案，结合 `.cursor/rules/rules.json` 中的规范，高效、高质量地完成前端代码的开发，最终交付一个功能完善、体验优良的前端框架，为天帝您后续的资源填充和后端集成奠定坚实基础。 
